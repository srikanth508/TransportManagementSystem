<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>AlloPet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicons -->
    <link href="img/favicon.png" rel="icon">
    <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">

    <!-- Bootstrap CSS File -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!-- Libraries CSS Files -->
    <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <!-- Main Stylesheet File -->
    <link href="css/style.css" rel="stylesheet">

    <!-- =======================================================
      Theme Name: BizPage
      Theme URL: https://bootstrapmade.com/bizpage-bootstrap-business-template/
      Author: BootstrapMade.com
      License: https://bootstrapmade.com/license/
    ======================================================= -->


    <style>
        .sidenav {
            height: 100%;
            width: 100%;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #185890;
            overflow-x: hidden;
            padding-top: 10px;
            margin-top: 102px;
        }

            .sidenav a {
                padding: 3px 0px 9px 0px;
                text-decoration: none;
                font-size: 14px;
                color: #f9fbf9;
                display: block;
            }

                .sidenav a:hover {
                    color: #f18235;
                    cursor: pointer;
                }

        .ImagesCss {
            height: 35px;
        }

        .tableresponsive {
            padding: 23px;
            margin-left: 1px;
        }

        .tableheaderfont {
            color: white;
        }

        .tableheader {
            border: black;
            background-color: #00b5d7;
            text-align: center;
        }

        .mainrow {
            float: right;
            margin-top: 26px;
        }

        .maincard {
            float: initial;
            background: white;
        }

        .excelbutton {
            margin-left: auto;
            margin-right: 20px;
            background-color: #00b5d7;
            color: white;
            margin-bottom: 8px;
        }
    </style>
</head>
<body>




    <div class="container-fluid">

        <div class="row Card" style="    box-shadow: 1px 1px 1px 1px #1f1e1e6e;
    /* position: absolute; */
    height: 100px;
    position: fixed;
    width: 100%;
    z-index: 999;
    background: #ffffff;">


            <div>
                <img src="img/images.png" style="    height: 96px;
    /* margin-left: 79px; */
    margin-top: 2px;
    margin-left: 35px;" />


            </div>

            <div>
                <a href="index.html" style="color: white;
    font-size: 18px;">
                    <img src="img/logout.png" href="index.html" style=" height: 30px;
    /* margin-left: 79px; */
    margin-top: -120px;
    margin-left: 1441px;"/>
                </a>
            </div>

        </div>

        <div class="row">
            <div class="col-lg-2 sidenav">




                <div class="row" style="margin-top: 20px;">
                    <div class="col-lg-2">
                        <img src="img/Studentdetails.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="StudentDashboard.html" style="color: white;
    font-size: 18px;">Student Details</a>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/Staff.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="StaffDashboard.html" style="color: white;
    font-size: 18px;">Staff Details</a>
                    </div>
                </div>


                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/Routedetails.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="RouteDashboard.html" style="color: white;
    font-size: 18px;">Route Details</a>
                    </div>
                </div>


                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/StaffRoute.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="StopDashboard.html" style="color: white;
    font-size: 18px;">Stop Details</a>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/Studentmap.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="StudentMapDashboard.html" style="color: white;
    font-size: 18px;">Student Route Map</a>
                    </div>
                </div>


                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/Staffmap.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="StaffMapDashboard.html" style="color: white;
    font-size: 18px;">Staff Route Map</a>
                    </div>
                </div>






            </div>
            <div class="col-lg-9 " style="    margin-left: 320px;margin-top: 66px;">


                <h4 style="font-weight: bold;    margin-top: 58px;">Mapped Staff Details</h4>


                <form method="get" action="./StaffRouteMapping.html">
                    <button style="float: right; margin-right: 37px; width: 164px; background: #f5dc92" class="form-control">
                        Map New Staff
                    </button>
                </form>




                <div class="row  tableresposive  card" style="padding:5px; margin-top: 73px;">
                    <table class="table table-bordered table-hover table-condensed" id="tb_staffd">
                        <tbody>
                            <tr class="tableheader tableheaderfont">
                                <td style="width: 24%;">Staff Name</td>
                                <td style="width: 14%;">Route Number</td>
                                <td style="width: 5%;">Action</td>

                            </tr>

                    </table>
                </div>



            </div>
        </div>
    </div>













    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    <!-- Uncomment below i you want to use a preloader -->
    <!-- <div id="preloader"></div> -->
    <!-- JavaScript Libraries -->
    <script src="lib/jquery/jquery.min.js"></script>
    <script src="lib/jquery/jquery-migrate.min.js"></script>
    <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="lib/easing/easing.min.js"></script>
    <script src="lib/superfish/hoverIntent.js"></script>
    <script src="lib/superfish/superfish.min.js"></script>
    <script src="lib/wow/wow.min.js"></script>
    <script src="lib/waypoints/waypoints.min.js"></script>
    <script src="lib/counterup/counterup.min.js"></script>
    <script src="lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="lib/isotope/isotope.pkgd.min.js"></script>
    <script src="lib/lightbox/js/lightbox.min.js"></script>
    <script src="lib/touchSwipe/jquery.touchSwipe.min.js"></script>
    <!-- Contact Form JavaScript File -->
    <script src="contactform/contactform.js"></script>

    <!-- Template Main Javascript File -->
    <script src="js/main.js"></script>

    <script type="text/javascript">



        var tr_start = "<tr>";
        var tr_end = "</tr>";
        var td_start = "<td style='width:390px'>";
        var td_end = "</td>";


        var tbody_content = "";

        var table_data_array = [];

        $(document).ready(function () {
            studentedtails();
        });

        function studentedtails() {
            $.get("https://14.192.17.225/StudentTransportAPI/Announcement/GetStaffRouteMapping",
                function (data, status) {
                    debugger
                    if (data.length > 0) {
                        table_data_array.length = 0;
                        table_data_array = data;


                        tbody_content = "";
                        for (var i = 0; i < table_data_array.length; i++) {
                            var tr = tr_start
                                + td_start + table_data_array[i].name + td_end
                                + td_start + table_data_array[i].routeNumber + td_end
                       
                                + td_start + "<a onclick=deletestaffmapRecord(" + table_data_array[i].id + ")> <img src='img/delete.png' style='width: 25px;'/></a>" + td_end
                                + tr_end;
                            tbody_content = tbody_content + tr;

                        }
                        var tableRef = document.getElementById('tb_staffd').getElementsByTagName('tbody')[0];
                        tableRef.innerHTML = tableRef.innerHTML + tbody_content;
                    }
                    else {
                        swal('There is no data found!');
                    }
                });
        }




        function deletestaffmapRecord(staffmap_id) {
            debugger;


            $.post("https://14.192.17.225/StudentTransportAPI/Announcement/DeleteStaffRouteMap?ID=" + staffmap_id,
                function (data, status) {
                    debugger
                    if (data == 1) {
                        swal('Deleted Successfully');

                        location.href = "./StaffMapDashboard.html";
                    }
                    else {
                        swal('Could Not Delete the Data');
                    }
                });




        }
    </script>


</body>
</html>