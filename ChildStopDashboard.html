<!--<!DOCTYPE html>-->
<html>
<head>
    <meta charset="utf-8">
    <title>AlloPet</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicons -->
    <link href="img/favicon.png" rel="icon">
    <link href="img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Montserrat:300,400,500,700" rel="stylesheet">

    <!-- Bootstrap CSS File -->
    <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!-- Libraries CSS Files -->
    <link href="lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">

    <!-- Main Stylesheet File -->
    <link href="css/style.css" rel="stylesheet">

    <!-- =======================================================
      Theme Name: BizPage
      Theme URL: https://bootstrapmade.com/bizpage-bootstrap-business-template/
      Author: BootstrapMade.com
      License: https://bootstrapmade.com/license/
    ======================================================= -->


    <style>
        .sidenav {
            height: 100%;
            width: 100%;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #185890;
            overflow-x: hidden;
            padding-top: 10px;
            margin-top: 102px;
        }

            .sidenav a {
                padding: 3px 0px 9px 0px;
                text-decoration: none;
                font-size: 14px;
                color: #f9fbf9;
                display: block;
            }

                .sidenav a:hover {
                    color: #f18235;
                    cursor: pointer;
                }

        .ImagesCss {
            height: 35px;
        }

        .tableresponsive {
            padding: 23px;
            margin-left: 1px;
        }

        .tableheaderfont {
            color: white;
        }

        .tableheader {
            border: black;
            background-color: #00b5d7;
            text-align: center;
        }

        .mainrow {
            float: right;
            margin-top: 26px;
        }

        .maincard {
            float: initial;
            background: white;
        }

        .excelbutton {
            margin-left: auto;
            margin-right: 20px;
            background-color: #00b5d7;
            color: white;
            margin-bottom: 8px;
        }

        .selected {
            background-color: #ffe786;
        }

        .bad {
            background-color: red;
        }
    </style>
</head>
<body>




    <div class="container-fluid">

        <div class="row Card" style="    box-shadow: 1px 1px 1px 1px #1f1e1e6e;
    /* position: absolute; */
    height: 100px;
    position: fixed;
    width: 100%;
    z-index: 999;
    background: #ffffff;">


            <div>
                <img src="img/images.png" style="    height: 96px;
    /* margin-left: 79px; */
    margin-top: 2px;
    margin-left: 35px;" />


            </div>

            <div>
                <a href="index.html" style="color: white;
    font-size: 18px;">
                    <img src="img/logout.png" href="index.html" style="        height: 30px;
        /* margin-left: 79px; */
        margin-top: -70px;
        margin-left: 1441px;" />
                </a>
            </div>

        </div>

        <div class="row">
            <div class="col-lg-2 sidenav">




                <div class="row" style="margin-top: 20px;">
                    <div class="col-lg-2">
                        <img src="img/Studentdetails.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="ChildDetailsDashboard.html" style="color: white;
    font-size: 18px;">Child Details</a>
                    </div>
                </div>

                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/StaffRoute.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="BusDetailsDashboard.html" style="color: white;
    font-size: 18px;">Bus Route Details</a>
                    </div>
                </div>
                <div class="row" style="margin-top: 10px;">
                    <div class="col-lg-2">
                        <img src="img/Routedetails.png" class="ImagesCss" />
                    </div>
                    <div class="col-lg-9">
                        <a href="ChildStopDashboard.html" style="color: white;
    font-size: 18px;">Stop Details</a>
                    </div>
                </div>

            </div>



            <div class="col-lg-9" style="margin-left: 320px;margin-top: 66px;">
                <h4 style="font-weight: bold;margin-top: 58px;font size: 23px;font-size: 40px;text-align: center;">
                    Stop Details
                </h4>

               

                <div class="row  tableresposive  card" style="padding:5px; margin-top: 73px;" id="routetables">
                    <div class="routeclassheadder"></div>

                    <table class="table table-bordered  table-condensed tbl_StopDetails">
                        <tbody>
                            <tr class="tableheader tableheaderfont">
                                <td style="width: 12%;">Stop Number</td>
                                <td style="width:390px; text-align: center">Stop Names</td>
                            </tr>
                    </table>
                </div>


            </div>




            <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
            <!-- Uncomment below i you want to use a preloader -->
            <!-- <div id="preloader"></div> -->
            <!-- JavaScript Libraries -->
            <script src="lib/jquery/jquery.min.js"></script>
            <script src="lib/jquery/jquery-migrate.min.js"></script>
            <script src="lib/bootstrap/js/bootstrap.bundle.min.js"></script>
            <script src="lib/easing/easing.min.js"></script>
            <script src="lib/superfish/hoverIntent.js"></script>
            <script src="lib/superfish/superfish.min.js"></script>
            <script src="lib/wow/wow.min.js"></script>
            <script src="lib/waypoints/waypoints.min.js"></script>
            <script src="lib/counterup/counterup.min.js"></script>
            <script src="lib/owlcarousel/owl.carousel.min.js"></script>
            <script src="lib/isotope/isotope.pkgd.min.js"></script>
            <script src="lib/lightbox/js/lightbox.min.js"></script>
            <script src="lib/touchSwipe/jquery.touchSwipe.min.js"></script>
            <!-- Contact Form JavaScript File -->
            <script src="contactform/contactform.js"></script>
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
            <!-- Template Main Javascript File -->
            <script src="js/main.js"></script>

            <script type="text/javascript">



                var tr_start = "<tr>";
                var tr_end = "</tr>";
                var td_start = "<td style='width:390px'>";
                var td_end = "</td>";


                var tbody_content = "";

                var table_data_array = [];

                $(document).ready(function () {
                    studentedtails();
                });




                function studentedtails() {
                    debugger
                    var Routesids = sessionStorage.getItem('Routeids').split(',');
                    Routesids = Routesids.splice(1, Routesids.length);


                    var Studentids = sessionStorage.getItem('Studentids').split(',');
                    Studentids = Studentids.splice(1, Studentids.length)


                    var rootname = [];
                    var tabldivcontent = "";
                    for (let k = 0; k < Routesids.length; k++) {

                        let existingtable = document.getElementById('routetables').innerHTML;
                        tabldivcontent = tabldivcontent + existingtable;
                    }
                    document.getElementById('routetables').innerHTML = tabldivcontent;


                    for (let m = 0; m < Routesids.length; m++) {


                        $.get("https://14.192.17.225/StudentTransportAPI/Announcement/GetRouteStopMapping?ID=" + Routesids[m],
                            function (data, status) {
                                debugger
                                if (data.length > 0) {

                                    table_data_array.length = 0;
                                    table_data_array = data;
                                    rootname[m] = data[0].stopNumber;


                                    tbody_content = "";
                                    for (var i = 0; i < table_data_array.length; i++) {
                                        var tr = tr_start
                                            + td_start + table_data_array[i].stopNumber + td_end
                                            + td_start + table_data_array[i].pickup + td_end

                                            + tr_end;
                                        tbody_content = tbody_content + tr;

                                    }
                                    var tableRef = document.getElementsByClassName('tbl_StopDetails')[m].getElementsByTagName('tbody')[0];
                                    tableRef.innerHTML = tableRef.innerHTML + tbody_content;
                                    debugger;







                                  

                                }
                                else {
                                    swal('There is no data found!');
                                }
                            });
                    }

                    for (let l = 0; l < Studentids.length; l++) {
                        $.get("https://14.192.17.225/StudentTransportAPI/Announcement/GetPickupDetails?ID=" + Studentids[l],
                            function (data, status) {

                                  $("tr").each(function () {
                                        debugger
                                        var col_val = $(this).find("td:eq(1)").text();
                                        if (col_val.trim().toLowerCase() == data[0].pickUp.trim().toLowerCase()) {
                                            $(this).addClass('selected');  //the selected class colors the row green//
                                        } else {
                                            //$(this).addClass('bad');
                                        }
                                    });
                            });
                    }

                }


            </script>



        </div>
    </div>

</body>
</html>